<div class="preloader" *ngIf="loadPage == true">
  <div class="col-sm-2">
    <div id="square5">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>


  </div>
</div>

<form [formGroup]="basicForm" [formGroup]="basicForm">

  <div style="border: none solid black;">

    <div class="card-title-text"> <b> {{  ActionDisplay }} </b><label class="allFieldRequired"> <label
          class="allFieldRequiredtxt">{{requiredFieldMsg}}</label></label></div>
    <hr>

    <div style="border: 1px solid rgb(177, 160, 160); padding: 10px;">
      <div class="form-group row">

        <!-- <label for="input-11" class="col-sm-2 col-form-label">Core Banking Name</label>
        <div class="col-sm-3">
          <select class="form-control" formControlName="dataSources" [ngClass]="{'redBorder':
          dataSource === ''  }" (change)='onOptionsDataSourse($event)'>
            <option value="">Select Banking System</option>
            <option *ngFor="let a of cbs" [value]="a.itbid">{{ a.cbsName }} - {{ a.cbsVersion }}</option>
          </select>
        </div> -->

        <label for="input-11" class="col-sm-2 col-form-label">Login Type</label>
        <div class="col-sm-3">
          <select class="form-control" formControlName="loginType">
            <option *ngIf="cpLogValues == ''" value="">Select Login Type</option>
            <!-- <option value=''>{{ userLogValues }}</option> -->
            <option *ngFor="let a of loginTypes" [selected]="a.loginType === cpLogValues" [value]="a.loginType">
              {{ a.description }}</option>
          </select>
        </div>

        <label for="input-11" class="col-sm-2 col-form-label">Login Id</label>
        <div class="col-sm-3">
          <input autocomplete="off" *ngIf="data.actionName == 'Add'" [ngClass]="{'redBorder':
          loginId === ''  }" class="form-control" type="text" placeholder="" formControlName="loginId" id="loginId" />

          <input autocomplete="off" *ngIf="data.actionName !== 'Add'" class="form-control" type="text" placeholder=""
            formControlName="loginId" disabled />

        </div>
        
        <label for="input-11" class="col-sm-2 col-form-label" *ngIf="data.actionName === 'Add'">CBS Validate <mat-checkbox color="primary" (change)='getUserDetailCoreBanking($event)' formControlName="checkValidate" id="checkValidate" class="example-margin"></mat-checkbox></label>
        <!--  -->

        <!-- <div *ngIf="data.actionName == 'Add'" class="col-sm-1">
          <button *ngIf="data.actionName == 'Add'" id="btnCoreBanking" mat-raised-button color="accent"
            (click)="getUserCoreBanking()">
            <img *ngIf="actionFetchDetails === true" src="assets/img/loader/loader.gif" />
            Get Details</button>
        </div> -->
        
      </div>
      <div class="form-group row">

        

        <label for="input-11" class="col-sm-2 col-form-label">Staff ID</label>
        <div class="col-sm-3">
          <input autocomplete="off" *ngIf="data.actionName == 'Add'" class="form-control" type="text" placeholder="" formControlName="staffId" id="staffId" />

          <input autocomplete="off" *ngIf="data.actionName !== 'Add'" class="form-control" type="text" placeholder=""
            formControlName="staffId" disabled />
        </div>

        
        <label for="input-11" class="col-sm-2 col-form-label">CBS ID</label>
        <div class="col-sm-2">
          <input autocomplete="off" class="form-control" type="text" placeholder="" formControlName="rsmId" disabled />
        </div>

        <div *ngIf="data.actionName == 'Add'" class="col-sm-1">
          <div *ngIf="actionFetchDetails === true">
            <img src="assets/img/loader/loader.gif" />&nbsp;
            <span>Loading Please</span>
          </div>
        </div>
        <!-- <div class="col-sm-1">
          
        </div> -->
      </div>


      <hr>
      <div class="form-group row">

        <label for="input-11" class="col-sm-2 col-form-label">Full Name</label>
        <div class="col-sm-3">
          <input autocomplete="off" class="form-control" type="text" placeholder="" formControlName="fullName" />
        </div>

        <label for="input-11" class="col-sm-1 col-form-label">Branch</label>
        <div class="col-sm-2">

          <select class="form-control" formControlName="branchNo">
            <option value="">Select Users Branch</option>
            <option *ngFor="let a of branches" [value]="a.branchNo">{{ a.branchName }}</option>
          </select>
        </div>

        <label for="input-11" class="col-sm-1 col-form-label">Role</label>
        <div class="col-sm-2">
          <select class="form-control" formControlName="roleId">
            <option value="">Select Role</option>
            <option *ngFor="let a of roles" [value]="a.roleId">{{ a.roleName }}</option>
          </select>
        </div>
        
        <!-- <label for="input-11" class="col-sm-1 col-form-label">Status</label>
        <div class="col-sm-2">
          
           <select class="form-control" formControlName="status">
              <option value="">Select Status</option>
              <option *ngFor="let a of statuses" [value]="a.status">
                {{ a.status }}</option>
            </select>
        </div> -->
      </div>
      <div class="form-group row">

        <label for="input-11" class="col-sm-2 col-form-label">Email</label>
        <div class="col-sm-3">
          <input autocomplete="off" class="form-control" type="text" placeholder="" formControlName="emailAddress" />

        </div>

        <label for="input-11" class="col-sm-1 col-form-label">Dept.</label>
        <div class="col-sm-2">
          <select class="form-control" formControlName="deptId">
            <option value="">Select Depatment</option>
            <option *ngFor="let a of depts" [value]="a.deptId">{{ a.deptname }}</option>
          </select>

        </div>
        
      </div>
      <div class="form-group row">

        <label for="input-11" class="col-sm-2 col-form-label">Can Print Statemt.</label>
        <div class="col-sm-1">
          <mat-checkbox color="primary" formControlName="canPrintStatement" class="example-margin"></mat-checkbox>
        </div>

        <label for="input-11" class="col-sm-3 col-form-label">Can Print Bid Sec.</label>
        <div class="col-sm-1">
          <mat-checkbox color="primary" formControlName="canPrintBidSecurity" class="example-margin"></mat-checkbox>

        </div>
        <label for="input-11" class="col-sm-2 col-form-label">Can Print Ref. Letter</label>
        <div class="col-sm-2">
          <mat-checkbox color="primary" formControlName="canPrintRefLetter" class="example-margin"></mat-checkbox>
        </div>

      </div>
      <div class="form-group row">

        <label for="input-11" class="col-sm-2 col-form-label">Can Print Trade Ref.</label>
        <div class="col-sm-1">
          <mat-checkbox color="primary" formControlName="canPrintTradeRef" class="example-margin"></mat-checkbox>
        </div>

        <label for="input-11" class="col-sm-3 col-form-label">Can Print Bond and Gua.</label>
        <div class="col-sm-1">
          <mat-checkbox color="primary" formControlName="canPrintBond" class="example-margin"></mat-checkbox>

        </div>
        <label for="input-11" class="col-sm-2 col-form-label">Can Print OD</label>
        <div class="col-sm-2">
          <mat-checkbox color="primary" formControlName="canPrintOD" class="example-margin"></mat-checkbox>
        </div>
      </div>
      <div class="form-group row">

        <label for="input-11" class="col-sm-2 col-form-label">Can Reverse </label>
        <div class="col-sm-1">
          <mat-checkbox color="primary" formControlName="canReverse" class="example-margin"></mat-checkbox>
        </div>

        <label for="input-11" class="col-sm-3 col-form-label">Use Cbs Limit.</label>
        <div class="col-sm-2">
          <mat-checkbox color="primary" formControlName="useCbsLimit" class="example-margin"></mat-checkbox>

        </div>
        <!-- 
        <label for="input-11" class="col-sm-1 col-form-label">Auth. User</label>
        <div class="col-sm-2">
          <mat-checkbox color="primary" formControlName="canApprove" class="example-margin"></mat-checkbox>
        </div> -->
      </div>
    </div>
    <div *ngIf="data.actionName !== 'Add'" style="padding-top: 3px;">

      <div class="form-group">
        <div class="col-sm-12 infoAcctdetails" style="background-color:#444;color:#fff; text-align:center;">
          <label class="control-label lbl" style="color:#fff;" for="tagsinput-2">AUDIT TRAIL</label>
        </div>
      </div>
      <div style="border: 1px solid rgb(177, 160, 160); padding: 10px;">
        <div class="form-group row">

          <label for="input-11" class="col-sm-2 col-form-label">Created By</label>
          <div class="col-sm-2">
            <input autocomplete="off" [(ngModel)]="createdByString" class="form-control" type="text" placeholder=""
              formControlName="createdByString" readonly />

          </div>

          <label for="input-11" class="col-sm-1 col-form-label">Date Created</label>
          <div class="col-sm-2">
            <input autocomplete="off" readonly class="form-control" type="text" placeholder="" name="dateCreated"
              formControlName="dateCreated" />
          </div>
          <label for="input-11" class="col-sm-1 col-form-label">Status</label>
          <div class="col-sm-2">
            <select class="form-control" formControlName="status">
              <option>Select Status</option>
              <option *ngFor="let a of statuses" [value]="a.status">
                {{ a.status }}</option>
            </select>

          </div>

          <div class="col-sm-1">
            <button type="button" mat-raised-button color="primary" (click)="auditList()"
            >Audit Trail</button>
          </div>
        </div>
      </div>
    </div>
    <hr>

    <br>
    <div class="form-group row">
      <div class="btn-group" style="margin: 0  50% 0 40%">

        <button id="btnSave" *ngIf="data.actionName == 'Add'" mat-raised-button color="accent"
          (click)="add(basicForm.value)" [disabled]="!basicForm.valid">
          <img *ngIf="actionLoaderSave === true" src="assets/img/loader/loader.gif" />
          Save</button>

        <button id="btnUpdate" *ngIf="data.actionName == 'Edit'" mat-raised-button color="accent"
          (click)="update(basicForm.value)">
          <img *ngIf="actionLoaderUpdate === true" src="assets/img/loader/loader.gif" />
          Update</button>

        <button type="button" style="margin: 0 0 0 10px;" mat-raised-button color="primary"
          (click)="close()">Return</button>

        <mat-spinner *ngIf="displayloader == true" strokeWidth="1" [diameter]="30" color="primary"></mat-spinner>
      </div>
    </div>

  </div>
</form>